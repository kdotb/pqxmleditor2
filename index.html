<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Executive Branch Document 2 -  Demo XML-Editor</title>
<link rel="stylesheet" href="editor/stylesheets/reset.css" type="text/css" />
<link rel="stylesheet" href="editor/stylesheets/demo.css" type="text/css" />
<link rel="stylesheet" href="css/jquery.xmleditor.css" type="text/css" />
<script src="lib/ace/src-min/ace.js" type="text/javascript" ></script>
<script src="lib/jquery.min.js" type="text/javascript" ></script>
<script src="lib/jquery.1.11.0.js" type="text/javascript" ></script>
<script src="lib/jquery-ui.min.js" type="text/javascript" ></script>
<script src="lib/json2.js" type="text/javascript" ></script>
<script src="lib/cycle.js" type="text/javascript" ></script>
<script src="lib/jquery.autosize-min.js" type="text/javascript" ></script>
<script src="lib/vkbeautify.js" type="text/javascript" ></script>
<script src="jquery.xmleditor.js" type="text/javascript" ></script>

</head>
<body>
	<div class="">
		<header>
			<h1>Executive Branch Document 2 -  Demo XML-Editor</h1><hr>
			
		</header>
	</div>
	<div id="xml_editor">
		<RECORD xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://gisatlas201.aa1.pqe:8080/jquery.xmleditor.my/xsd/EDB1.xsd"> </RECORD>
	</div>
	<script>
		function getUrlVars()
		{
			var vars = [], hash;
			var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
			for(var i = 0; i < hashes.length; i++)
			{
				hash = hashes[i].split('=');
				vars.push(hash[0]);
				vars[hash[0]] = hash[1];
			}
			return vars;
		}
		var qs = getUrlVars()["pg"];
		//alert(qs);
		$(function() {
		
		//var qs2 = $.url().param("pg");
		
			$("#xml_editor").xmlEditor({
			
				documentTitle : null,
				schema : "editor/mods.json",
				ajaxOptions: {
					xmlRetrievalPath: qs, // $.url().param('pg'), // getUrlVars()["pg"], // "xml/EBD1.xml",
					xmlRetrievalParams : null,
					xmlUploadPath: qs //"xml/EBD1.xml"
				},
				libPath : "lib/",
				expandingTextAreas: false,
				loadSchemaAsychronously: true,
				submitResponseHandler : null,
				localXMLContentSelector: this.element,
				elementUpdated : undefined,
				confirmExitWhenUnsubmitted : true,
				enableGUIKeybindings : true,
				floatingMenu : true,
				prettyXML : true,
				undoHistorySize: 20,
				targetNS: null
			});
		});
	</script>
	<footer>
		<p>
			
		</p>
	</footer>
</body>
</html>
